<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>str-fty (SICStus Prolog)</title>

<meta name="description" content="str-fty (SICStus Prolog)">
<meta name="keywords" content="str-fty (SICStus Prolog)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Predicate-Index.html#Predicate-Index" rel="index" title="Predicate Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="lib_002dstructs.html#lib_002dstructs" rel="up" title="lib-structs">
<link href="str_002dfty_002ddty.html#str_002dfty_002ddty" rel="next" title="str-fty-dty">
<link href="lib_002dstructs.html#lib_002dstructs" rel="prev" title="lib-structs">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


<link href="texinfo.css" rel="stylesheet" type="text/css">
</head>

<body lang="en">
<a name="str_002dfty"></a>
<hr>
<a name="Foreign-Types"></a>
<h4 class="subsection">10.43.1 Foreign Types</h4>


<a name="Menu"></a>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="str_002dfty_002ddty.html#str_002dfty_002ddty" accesskey="1">str-fty-dty</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Declaring Types
</td></tr>
</table>




<p>There are two sorts of objects that Prolog may want to handle:
<em>atomic</em> and <em>compound</em>.  <em>Atomic</em> objects include numbers and
atoms, and <em>compound</em> objects include data structures and arrays.
To be more precise about it, an atomic type is defined by one of the
following:
</p>
<dl compact="compact">
<dt><code>integer</code></dt>
<dd><p>signed integer, large enough to hold a pointer.
</p>
</dd>
<dt><code>integer_64 &nbsp;<!-- /@w --> <i>since release 4.3</i></code></dt>
<dd><p>64 bit signed integer.
</p>
</dd>
<dt><code>integer_32</code></dt>
<dd><p>32 bit signed integer.
</p>
</dd>
<dt><code>integer_16</code></dt>
<dd><p>16 bit signed integer.
</p>
</dd>
<dt><code>integer_8</code></dt>
<dd><p>8 bit signed integer.
</p>
</dd>
<dt><code>unsigned</code></dt>
<dd><p>unsigned integer, large enough to hold a pointer.
</p>
</dd>
<dt><code>unsigned_64 &nbsp;<!-- /@w --> <i>since release 4.3</i></code></dt>
<dd><p>64 bit unsigned integer.
</p>
</dd>
<dt><code>unsigned_32</code></dt>
<dd><p>32 bit unsigned integer.
</p>
</dd>
<dt><code>unsigned_16</code></dt>
<dd><p>16 bit unsigned integer.
</p>
</dd>
<dt><code>unsigned_8</code></dt>
<dd><p>8 bit unsigned integer.
</p>
</dd>
<dt><code>float</code></dt>
<dd><p>64 bit floating-point number.
</p>
</dd>
<dt><code>float_32</code></dt>
<dd><p>32 bit floating-point number.
</p>
</dd>
<dt><code>atom</code></dt>
<dd><p>32 bit Prolog atom number.  Unique for different atoms, but not
consistent across Prolog sessions.  The atom is made non garbage
collectable. See <a href="Atoms-in-C.html#Atoms-in-C">Atoms in C</a>.
</p>
</dd>
<dt><code>string</code></dt>
<dd><p>A pointer to an encoded string.  Represented as an atom in Prolog.
<strong>Please note</strong>: This string must not be overwritten, as it
constitutes the print name of an atom.  Also, the atom and
string are made non garbage collectable. See <a href="Atoms-in-C.html#Atoms-in-C">Atoms in C</a>.
</p>
</dd>
<dt><code>address</code></dt>
<dd><p>An untyped pointer.  Like <code>pointer(_)</code>, but <code>library(structs)</code>
does no type checking for you. Represented as a Prolog integer.
</p>
</dd>
<dt><code>opaque</code></dt>
<dd><p>Unknown type.  Cannot be represented in Prolog.  A pointer to
an opaque object may be manipulated.
</p></dd>
</dl>



<p>Compound types are defined by one of the following:
</p>
<dl compact="compact">
<dt><code>pointer(<var>Type</var>)</code></dt>
<dd><p>a pointer to a thing of type <var>Type</var>.
</p>
</dd>
<dt><code>array(<var>Num</var>,<var>Type</var>)</code></dt>
<dd><p>A chunk of memory holding <var>Num</var> (an integer) things of type
<var>Type</var>.
</p>
</dd>
<dt><code>array(<var>Type</var>)</code></dt>
<dd><p>A chunk of memory holding some number of things of
type <var>Type</var>.  This type does not allow bounds checking, so it
should be used with great care.  It is also not possible to use this
sort of array as an element in an array, or in a struct or union.
</p>
</dd>
<dt><code>struct(<var>Fields</var>)</code></dt>
<dd><p>A compound structure.  <var>Fields</var> is a list
of <var>Field</var>_name:<var>Type</var> pairs.  Each <var>Field</var>_name is an
atom, and each <var>Type</var> is any valid type.
</p>
</dd>
<dt><code>union(<var>Members</var>)</code></dt>
<dd><p>A union as in C.  <var>Members</var> is a list of
<var>Member</var>_name:<var>Type</var> pairs. Each <var>Member</var>_name is an
atom, and each <var>Type</var> is any valid type.  The space allocated for
one of these is the maximum of the spaces needed for each member.  It
is not permitted to store into a union (you must get a member of the
union to store into, as in C).
</p></dd>
</dl>


<p>C programmers will recognize that the kinds of data supported by
this package were designed for the C language.  They should also
work for other languages, but programmers must determine the proper
type declarations in those languages.  The table above makes clear
the storage requirements and interpretation of each type.
</p>
<p>Note that there is one important difference between the <code>structs</code> package
and C:  the <code>structs</code> package permits declarations of pointers to arrays.
A pointer to an array is distinguished from a pointer to a single
element.  For example
</p><div class="example">
<pre class="example">pointer(array(integer_8))
</pre></div>


<p>is probably a more appropriate declaration of a C string type than
</p><div class="example">
<pre class="example">pointer(integer_8)
</pre></div>

<p>which is the orthodox way to declare a string in C.  
</p>
<hr>



<div class="logo">
<a href="https://sicstus.sics.se/">
<table><tr><td>&nbsp;</td></tr></table>
</a>
</div>
<div class="node">
<ul class="node">
<li><a href="index.html#Top">User's Manual</a>
<hr>
<li><a href="index.html#TOC">Table of Contents</a>
<li><a href="str_002dcft.html#str_002dcft" accesskey="n" rel="next">Next</a>
<li><a href="lib_002dstructs.html#lib_002dstructs" accesskey="u" rel="up">Up</a>
<li><a href="#Menu">Node Menu</a>
</ul>
</div>
<hr>
<a HREF="mailto:sicstus-support@ri.se?subject=Documentation%20feedback%20on%20html/sicstus/str_002dfty.html&amp;body=Feedback%20on%20documentation%20node%20html/sicstus/str_002dfty.html%20in%20User's%20Manual.">Send feedback on this subject.</a>
</body>
</html>
